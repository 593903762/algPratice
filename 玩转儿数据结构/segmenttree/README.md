最经典的线段树问题：区间染色

有一面墙,长度为n,每次选择一段墙进行染色
m次操作后,我们可以看到多少种颜色?
m次操作后,我们可以在[i,j]区间内看见多少种颜色?
                        使用数组   线段树
染色操作(更新区间)        O(n)     O(logn)
查询操作(查询区间)        O(n)     O(logn)

另一类经典问题：区间查询
基于区间的统计查询

对于给定区间,完成更新与查询

区间固定!
对于给定数组,构建线段树,每个节点为一个区间


不是完全二叉树也不是满二叉树，但是平衡二叉树,依然可以用数组表示,看做满二叉树,后面不存在的节点在数组中用空来表示即可。


如果区间有n个元素 数组表示需要有多少个节点?

0 1
1 2
...
h-1 2^(h-1)

总共有2^h - 1,大约是2^h,最后一层为2^(h-1),得到一个结论：**最后一层的节点数大致等于前面所有层节点之和**

如果n=2^k   只需要2n的空间
如果n=2^k+1,叶子节点在倒数两层,只需要4n的空间

因此如果区间有n个元素 数组表示需要有4n个节点。


线段树的适用场景主要为区间内的数据变动情况。

像303号问题区间数组不可变，可以用线段树，也可不用。
像307就只能用线段树比较好解决了。